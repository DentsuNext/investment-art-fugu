# Investment Art - Web application for screen recording
为录制 Loading 视频赶制出来的cables.gl动画网页版

---

## How to use
##### 1. 安装Http服务器(必须)
使用任意一种Http服务器均可，在此介绍安装VS Code里的Http服务器：
1. 打开VS Code
2. 打开Extensions Tab， 搜索Http Server, 作者zt5
3. 安装Http Server
<br>

##### 2. 使用Http服务器打开网页
1. 使用VS Code打开程序目录
2. 打开index.html
3. 此时右上角有显示一排浏览器图标，点击任意一个图标，进入浏览器
4. 点击页面左上角 `Show Aniamtion`按钮, 播放动画

---

## Configuration
##### 更换图片:
- 图片库目录: 请至根目录下的`imgset/` 文件夹更换图片
- 图片格式: .png
- 图片名称: 从1.png开始, 直到13.png结束

<br>

##### 更换数据:
请使用VS Code打开index.html, 找到以下代码位置
```html
// 图片库的根目录地址
const imgset_base_url = 'imgset'

// 每层的点的数据, 每层包含52个高度点, 范围[0, 1]
const china_data = [0.16, 0.2, 0.33, 0.42, 0.64, 0.51, 0.45, 0.38, 0.31, 0.36, 0.45, 0.53, 0.61, 0.68, 0.74, 0.82, 0.89, 0.83, 0.77, 0.7, 0.62, 0.57, 0.52, 0.47, 0.41, 0.41, 0.43, 0.45, 0.47, 0.46, 0.45, 0.44, 0.44, 0.38, 0.3, 0.22, 0.16, 0.27, 0.37, 0.48, 0.59, 0.58, 0.58, 0.58, 0.58, 0.64, 0.7, 0.77, 0.84, 0.73, 0.64, 0.54]
const overseas_data = [0.85, 0.8, 0.67, 0.61, 0.48, 0.45, 0.43, 0.46, 0.47, 0.55, 0.7, 0.76, 0.87, 0.81, 0.71, 0.72, 0.59, 0.57, 0.58, 0.5, 0.47, 0.5, 0.59, 0.66, 0.74, 0.78, 0.75, 0.72, 0.78, 0.73, 0.7, 0.67, 0.68, 0.67, 0.68, 0.71, 0.75, 0.73, 0.75, 0.66, 0.55, 0.42, 0.3, 0.33, 0.36, 0.38, 0.41, 0.41, 0.44, 0.54, 0.55, 0.61]
const global_data = [0.34, 0.4, 0.51, 0.63, 0.69, 0.58, 0.53, 0.45, 0.41, 0.44, 0.43, 0.45, 0.42, 0.41, 0.51, 0.5, 0.55, 0.54, 0.56, 0.58, 0.63, 0.69, 0.65, 0.59, 0.44, 0.42, 0.48, 0.54, 0.6, 0.71, 0.76, 0.7, 0.72, 0.74, 0.72, 0.76, 0.76, 0.68, 0.7, 0.61, 0.53, 0.44, 0.41, 0.44, 0.43, 0.48, 0.53, 0.49, 0.47, 0.49, 0.53, 0.47]
const others_data = [0.93, 0.79, 0.56, 0.44, 0.25, 0.3, 0.33, 0.36, 0.39, 0.45, 0.43, 0.44, 0.5, 0.53, 0.56, 0.52, 0.59, 0.61, 0.62, 0.56, 0.61, 0.58, 0.59, 0.47, 0.45, 0.43, 0.51, 0.54, 0.51, 0.57, 0.56, 0.48, 0.43, 0.36, 0.34, 0.44, 0.5, 0.53, 0.57, 0.6, 0.68, 0.74, 0.75, 0.74, 0.68, 0.59, 0.59, 0.62, 0.58, 0.51, 0.51, 0.54]
```
修改相应的数据后保存。刷新页面即可看到更新

<br>

##### 图片显示逻辑:
<img src="assets/ref.jpg" width=480>

1. 画布横向分割出13个segments
2. 以每个segment的中点来计算建筑图片的x坐标
3. 以x坐标所对应的折线的y坐标来计算建筑图片的显示高度
4. 缩放原有的建筑图片, 显示在指定位置

